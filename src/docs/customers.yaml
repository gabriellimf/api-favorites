paths:
  /customers:
    post:
      summary: Cria um novo cliente
      tags: [Clientes]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/../components.yaml/schemas/CreateCustomerRequest"
      responses:
        "201":
          description: Cliente criado com sucesso.
          content:
            application/json:
              schema:
                $ref: "#/../components.yaml/schemas/Customer"
        "400":
          description: Dados inválidos ou e-mail já em uso.

  /login:
    post:
      summary: Autentica um cliente
      tags: [Autenticação]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/../components.yaml/schemas/LoginRequest"
      responses:
        "200":
          description: Autenticação bem-sucedida.
          content:
            application/json:
              schema:
                $ref: "#/../components.yaml/schemas/LoginResponse"
        "401":
          description: E-mail ou senha inválidos.

  /profile:
    get:
      summary: Retorna o perfil do usuário autenticado
      tags: [Clientes]
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Perfil do usuário.
          content:
            application/json:
              schema:
                $ref: "#/../components.yaml/schemas/CustomerProfile"
        "401":
          description: Não autorizado (token inválido ou ausente).
    put:
      summary: Atualiza o perfil do usuário autenticado
      tags: [Clientes]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/../components.yaml/schemas/UpdateCustomerRequest"
      responses:
        "200":
          description: Perfil atualizado com sucesso.
          content:
            application/json:
              schema:
                $ref: "#/../components.yaml/schemas/Customer"
        "400":
          description: Dados inválidos ou e-mail já em uso.
        "401":
          description: Não autorizado.
    delete:
      summary: Deleta o perfil do usuário autenticado
      tags: [Clientes]
      security:
        - bearerAuth: []
      responses:
        "204":
          description: Perfil deletado com sucesso.
        "401":
          description: Não autorizado.
